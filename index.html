
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EKUB</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="ekub.css">
</head>

    <body >
     
        <header>
            <nav class="navbar navbar-expand-lg bg-dark border-bottom border-bottom-dark">
                <div class="container-fluid">
                  <h1 style="color:white;">EKUB</h1>
                  </div>
                </div>
              </nav>
            
          </header>
          <main>
           
            <div class="container ">
              <div class="row justify-content-md-contain"> 
                <div class="col-md-auto"></div>
                <img src="c:\Users\user\Desktop\ekub\ekub.jpg" alt=""> 
                <div class="input">     
                <div class="mb-1" >
           
                  
    <section class="section">
    <div class="all">
        <div class="container overflow-hidden text-center first" >
            <div class="row gx-5"> 
              <br>
              <br>
                <div class="col" id="left_side">
  
                    <h1 style="background-color: black; color: yellow;">Welcome to ekub</h1>
        <div class="form-floating mb-3">
            <input type="number" class="form-control" id="name" placeholder="Name">
            <label for="floatingInput"> number of participants</label>
          </div>
          <p id="error-message" style="color: red;"></p>
          
    
       
         
          <button type="button" id="btn1"   class="btn btn-primary"
            style="--bs-btn-padding-y: .25rem; --bs-btn-padding-x: .5rem; --bs-btn-font-size: .95rem; border-radius: 5px; "  >
            click me
    </button>

    <form id="equb-form" style="display: none;">
      <h2  style="background-color: black; color: yellow;">  name and phone number</h2>
      <div id="form-inputs"></div>
      <input type="submit" value="Submit" placeholder="submit">
  </form>

    </div>
   
    <div class="col-6" id="right_side"  style="background-color:black; color: yellow;">
     <h1>list of particpants</h1>
      <table class="table table1" id="tdata">
        <thead>
          <tr>
            
            <th scope="col">name</th>
          
            <th scope="col">phone number</th>
           
          </tr>
        </thead>
        <tbody class="table-group-divider">
          
        </tbody>
      </table>
      
    
    </div>
    
    </div> 
</div> 


<div class="container">
<hr class="border border-white border-3 opacity-100" >
<hr class="border border-white border-3 opacity-100">
</div>
<div class="container overflow-hidden text-center first">
  <div class="row">
    
    <div class="col-6 random" style="background-color: yellow;">
      <h2>winner</h2>
      <button id="select-btn" disabled style="color:black; background-color: yellow;">click me</button>
      <h1 id="selected"></h1>
    </div> 
    <div class="col-6 " style="background-color: black; color: yellow;">
      <h2>list of winners</h2>
      <table class="table table2" id="selected-table">
        <thead>
          <tr>
            
            <th scope="col">name</th>
          
            <th scope="col">phone number</th>
           
          </tr>
        </thead>
        <tbody class="table-group-divider">
          
        </tbody>
      </table>
    </div>

  </div>


</div>
</div>


</section>

</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"> </script>
<script>


document.getElementById("btn1").addEventListener("click", function(event) {
            event.preventDefault();

            let name_Error = document.getElementById("num");
            let amt_error = document.getElementById("amount");
            let errorMessage = document.getElementById("error-message");
            let erramt = document.getElementById("err-amt");

            if (name_Error.value === "") {
                errorMessage.innerHTML = "number of participants";
            } 
            
            
            else {
                errorMessage.innerHTML = "";
                
            }
        });








var a= [];
 let abc=document.getElementById('btn1')
abc.addEventListener('click',inputlist)

 function inputlist() {

    var name = document.getElementById("name").value; 
  

    var form = document.getElementById('equb-form');
            form.style.display = 'block';
            var formInputs = document.getElementById('form-inputs');

            formInputs.innerHTML = '';



    for(var i = 0; i < name; i++) {
        var nameInput = document.createElement('input');
       
        nameInput.setAttribute('type', 'text');
        nameInput.setAttribute('placeholder', 'name');
        formInputs.appendChild(nameInput);

        var phoneInput = document.createElement('input');
        phoneInput.setAttribute('type', 'tel');
        phoneInput.setAttribute('placeholder', 'phonenumber');
        formInputs.appendChild(phoneInput);
    }
    document.getElementById('equb-form').addEventListener('submit', function(event) {
            event.preventDefault();
            var inputs = event.target.querySelectorAll('input[type="text"], input[type="tel"]');
            for(var i = 0; i < inputs.length; i += 2) {
                var name = inputs[i].value;
                var phone = inputs[i+1].value;
                a.push({ name, phone});
                addToTable(name, phone);
            }
            document.getElementById('select-btn').disabled = false;
          
        }); 
        
        
            
               
}
function addToTable(name, phone) {
            var tbody = document.querySelector('#right_side tbody');
            var row = document.createElement('tr');
            var nameCell = document.createElement('td');
            nameCell.textContent = name;
            row.appendChild(nameCell);
            var phoneCell = document.createElement('td');
            phoneCell.textContent = phone;
            row.appendChild(phoneCell);
            tbody.appendChild(row);
        }
        
       
       
        
        document.getElementById('select-btn').addEventListener('click', function() {
          
            
            if(a.length > 0) {
                var index = Math.floor(Math.random() * a.length);
                var equb = a.splice(index, 1)[0];
              var na=document.getElementById("num").value
              var amt=document.getElementById("amount").value
              var namt=na*amt;
                document.getElementById('selected').textContent = equb.name + ' (' + equb.phone + ')'+" "+ namt+" "+"ብር";
                addSelectedToTable(equb);
            
              } else {
                document.getElementById('selected').textContent = 'All participants are involved';
                document.getElementById('select-btn').disabled = true;
            }
        });
        
        function addSelectedToTable(equb) {
    var tbody = document.querySelector('#selected-table tbody');
    var row = document.createElement('tr');
    var nameCell = document.createElement('td');
    nameCell.textContent = equb.name;
    row.appendChild(nameCell);
    var phoneCell = document.createElement('td');
    phoneCell.textContent = equb.phone;
    row.appendChild(phoneCell);
    tbody.appendChild(row);
}


</script>
</html>
